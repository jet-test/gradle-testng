apply plugin: 'java'

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'org.testng', name: 'testng', version: '6.11'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

test {
    ignoreFailures = true
    useTestNG() {
        useDefaultListeners = true
    }
    reports.html.enabled = false
}
test.finalizedBy("testMySuite", "testGradleSuite", "testParallelSuites")

task testMySuite(type: Test) {
    useTestNG() {
        suites "src/test/resources/testng.xml"
    }
}

task testParallelSuites(type: Test) {
    useTestNG() {
        suites "src/test/resources/testng-parallel.xml"
    }
}

task testGradleSuite(type: Test) {
    useTestNG() {
        include "**/MyTestInGradleSuite.*"
    }
}

